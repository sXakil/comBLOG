mixin head(title)
    title= title
    meta(name="viewport" content="width=device-width, initial-scale=1")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css")
    script(src="//code.jquery.com/jquery-1.11.1.min.js")
    script(src="//netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js")
    script(src="/js/main.js")
    link(rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous")
    link(rel="stylesheet" href="/stylesheets/app.css")
    link(rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon")

mixin flashMessage
    if(error)
        for e in error
            .alert.alert-danger.flashMessage= e
    if(warning)
        for w in warning
            .alert.alert-warning.flashMessage= w
    if(success)
        for s in success
            .alert.alert-success.flashMessage= s

mixin menu
    nav.navbar.navbar-default.navbar-static-top(role="navigation")
        .container
            .navbar-header
                .navbar-header
                    a.navbar-brand.pull-left(href="/" style="font-size: 2em") blog
                        span(style="font-weight: bold") COM
                button(type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1").navbar-toggle.collapsed
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
            .collapse.navbar-collapse#bs-example-navbar-collapse-1
                ul.nav.navbar-nav.navbar-right
                    li
                        a(href="/api" target="_new") API
                    if(currentUser)
                        li
                            a(href="/user/" + currentUser.username)= "[Hello, "
                                b= currentUser.username
                                | ]
                        li
                            a(href="/logout") Logout
                    else
                        li
                            a#login(href="#") Login
                            .popup
                                .popupbody#loginPopup
                                    form(action="/login" method="POST" style="text-align: center")
                                        .form-group
                                            input.form-control(type="text" name="username" placeholder="Username")
                                        .form-group
                                            input.form-control(type="password" name="password" placeholder="Password")
                                        .form-group
                                            button.btn.btn-xs.btn-primary Log In
                        li
                            a(href="/register") Sign Up